# EquityReview Environment Variables Template
# Copy this file to .env and fill in the values

# =============================================================================
# CORE APPLICATION
# =============================================================================

# Node environment: development, production
NODE_ENV=development

# Server port (default: 5000)
PORT=5000

# Session secret for cookie encryption (generate with: openssl rand -base64 32)
SESSION_SECRET=your-session-secret-here

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================

# PostgreSQL connection string
# Local: postgresql://user:password@localhost:5432/equityreview
# Azure: postgresql://user:password@server.postgres.database.azure.com:5432/equityreview?sslmode=require
DATABASE_URL=postgresql://user:password@localhost:5432/equityreview

# =============================================================================
# LLM PROVIDER
# =============================================================================

# LLM provider: mock (default) or azure_openai
LLM_PROVIDER=mock

# Azure OpenAI Configuration (only if LLM_PROVIDER=azure_openai)
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_API_KEY=your-api-key
# AZURE_OPENAI_DEPLOYMENT_CHAT=gpt-4

# =============================================================================
# MICROSOFT ENTRA ID (Azure AD) AUTHENTICATION
# =============================================================================

# Enable Entra ID authentication by setting these values
# Leave empty to disable authentication

# Azure AD Tenant ID (Directory ID)
AZURE_AD_TENANT_ID=

# App Registration Client ID (Application ID)
AZURE_AD_CLIENT_ID=

# App Registration Client Secret
AZURE_AD_CLIENT_SECRET=

# OAuth Redirect URI (must match App Registration)
AZURE_AD_REDIRECT_URI=http://localhost:5000/auth/callback

# =============================================================================
# AZURE KEY VAULT
# =============================================================================

# Enable Key Vault by setting the URL
# Leave empty to use environment variables directly

# Key Vault URL
AZURE_KEYVAULT_URL=

# Use Managed Identity (set to true in Azure, false locally)
USE_MANAGED_IDENTITY=false

# =============================================================================
# AZURE APPLICATION INSIGHTS
# =============================================================================

# Application Insights connection string for telemetry
# Leave empty to disable telemetry
APPLICATIONINSIGHTS_CONNECTION_STRING=

# =============================================================================
# AZURE LOG ANALYTICS
# =============================================================================

# Log Analytics Workspace ID for audit logging
# Leave empty to use local file-based audit logging
LOG_ANALYTICS_WORKSPACE_ID=

# Log Analytics Shared Key
LOG_ANALYTICS_SHARED_KEY=

# Custom log type name (default: EquityReviewAudit)
LOG_ANALYTICS_LOG_TYPE=EquityReviewAudit

# =============================================================================
# SHAREPOINT INTEGRATION
# =============================================================================

# SharePoint site URL for storing analysis history
# Example: https://contoso.sharepoint.com/sites/HR
SHAREPOINT_SITE_URL=

# SharePoint list name for history records
SHAREPOINT_LIST_NAME=EquityReviewHistory

# =============================================================================
# SERVICE PRINCIPAL (Development Only - Not for Azure Production)
# =============================================================================

# For local development, use service principal credentials
# In Azure, use Managed Identity instead (USE_MANAGED_IDENTITY=true)

# Service Principal Tenant ID
SP_TENANT_ID=

# Service Principal Client ID
SP_CLIENT_ID=

# Service Principal Client Secret
SP_CLIENT_SECRET=

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable debug logging
DEBUG=false

# Maximum rows per Excel upload
MAX_ROWS_PER_UPLOAD=1000

# Result file retention in days
OUTPUT_RETENTION_DAYS=90
